<!DOCTYPE html><html lang="zh-Hant"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>發音練習</title><link rel="manifest" href="manifest.json"><link rel="stylesheet" href="styles.css"></head><body>
<header class="appbar"><div class="bar"><h1 class="title">發 音 練 習</h1></div></header>
<div class="appbar"><div class="row" style="justify-content:center;gap:12px">
  <button id="btnV" class="pill teal">母 音</button>
  <button id="btnC" class="pill">子 音</button>
  <select id="speedSel" class="pill amber">
    <option value="0.5">x0.5</option>
    <option value="0.75" selected>x0.75</option>
    <option value="1">x1</option>
  </select>
</div></div>
<main class="wrap">
  <div id="gridV" class="grid"></div>
  <div id="gridC" class="grid" style="display:none"></div>
  <div class="note">더블 탭하면 단어 연습 · 點兩下有單字練習</div>
</main>
<nav class="tabbar"><div class="in">
  <a class="active" href="index.html"><span class="ico"><img src="icons/p1.svg"></span>發音練習</a>
  <a href="travel.html"><span class="ico"><img src="icons/p2.svg"></span>旅行會話</a>
  <a href="translate.html"><span class="ico"><img src="icons/p3.svg"></span>實時翻譯</a>
  <a href="history.html"><span class="ico"><img src="icons/p4.svg"></span>歷史紀錄</a>
</div></nav>
<section class="modal" id="detail"><div class="sheet">
  <div style="display:flex;align-items:center;gap:12px">
    <button class="backbtn" id="back"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg></button>
    <h3 class="title" style="flex:1;text-align:center;letter-spacing:6px;color:#78bfc0;margin:0">發 音 練 習</h3>
    <select id="speedSel2" class="pill amber"><option value="0.5">x0.5</option><option value="0.75" selected>x0.75</option><option value="1">x1</option></select>
  </div>
  <div class="big"><span id="bigSym">ㅏ</span></div>
  <div id="words"></div>
</div></section>
<script>
let rate=0.75;
function speakKo(t){const u=new SpeechSynthesisUtterance(t);u.lang='ko-KR';u.rate=rate;const v=speechSynthesis.getVoices().find(v=>/ko/i.test(v.lang||''));if(v)u.voice=v;speechSynthesis.speak(u);}
function tile(it){const el=document.createElement('div');el.className='tile';el.innerHTML=`<div class='sym'>${it.sym}</div><div class='rom'>${it.roman}</div>`;el.addEventListener('click',()=>speakKo(it.say));el.addEventListener('dblclick',(ev)=>{ev.stopPropagation();openDetail(it);});return el;}
function render(){const gv=document.getElementById('gridV');gv.innerHTML='';DATA.vowels.forEach(it=>gv.appendChild(tile(it)));const gc=document.getElementById('gridC');gc.innerHTML='';DATA.consonants.forEach(it=>gc.appendChild(tile(it)));}
function openDetail(item){document.getElementById('bigSym').textContent=item.sym;const w=document.getElementById('words');w.innerHTML='';item.words.forEach(([ko,zh,rom])=>{const d=document.createElement('div');d.className='word';d.innerHTML=`<div class='ko'>${ko}</div><div><div class='zh'>${zh}</div><div class='desc'>${rom}</div></div><div class='playbtn' data-say='${ko}'><svg viewBox='0 0 24 24' width='14' height='14'><polygon points='8,5 19,12 8,19'/></svg></div>`;w.appendChild(d);});document.getElementById('detail').style.display='block';}
document.addEventListener('click',e=>{const s=e.target.getAttribute('data-say');if(s) speakKo(s);});
document.getElementById('back').addEventListener('click',()=>document.getElementById('detail').style.display='none');
const btnV=document.getElementById('btnV'),btnC=document.getElementById('btnC');btnV.addEventListener('click',()=>{btnV.classList.add('teal');btnC.classList.remove('teal');document.getElementById('gridV').style.display='grid';document.getElementById('gridC').style.display='none';});btnC.addEventListener('click',()=>{btnC.classList.add('teal');btnV.classList.remove('teal');document.getElementById('gridC').style.display='grid';document.getElementById('gridV').style.display='none';});
function updateRate(){rate=parseFloat(document.getElementById('speedSel').value);document.getElementById('speedSel2').value=rate;}
document.getElementById('speedSel').addEventListener('change',updateRate);document.getElementById('speedSel2').addEventListener('change',()=>{rate=parseFloat(document.getElementById('speedSel2').value);document.getElementById('speedSel').value=rate;});
const DATA={vowels:[{sym:"ㅏ",roman:"a",say:"아",words:[["아기","嬰兒","a-gi"]]}],consonants:[{sym:"ㄱ",roman:"g",say:"가",words:[["가다","去","gada"]]}]};
render();
</script></body></html>
